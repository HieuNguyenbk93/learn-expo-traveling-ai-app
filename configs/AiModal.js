/*
 * Install the Generative AI SDK
 *
 * $ npm install @google/generative-ai
 */

const {
  GoogleGenerativeAI,
  HarmCategory,
  HarmBlockThreshold,
} = require("@google/generative-ai");

const apiKey = process.env.EXPO_PUBLIC_GOOGLE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
      {
        role: "user",
        parts: [
          {text: ""},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "```json\n{\n  \"flight\": {\n    \"details\": \"Roundtrip flight from [Your Departure City] to Shenzhen Bao'an International Airport (SZX)\",\n    \"price\": \"USD $1000 (Approximate, price varies based on season and airline)\",\n    \"booking_url\": \"https://www.google.com/flights\" // You can replace with specific airlines or travel booking websites\n  },\n  \"hotel\": [\n    {\n      \"name\": \"The Ritz-Carlton, Shenzhen\",\n      \"address\": \"1001 Shennan Blvd, Futian District, Shenzhen, Guangdong 518031, China\",\n      \"price\": \"USD $400+/night (Approximate, price varies based on season)\",\n      \"image_url\": \"https://www.ritzcarlton.com/en/hotels/china/shenzhen/images/hotel-exterior.jpg\",\n      \"geo_coordinates\": \"22.5419, 114.0654\",\n      \"rating\": \"4.5 stars\",\n      \"description\": \"Luxury hotel in the heart of Shenzhen with stunning views, world-class dining, and impeccable service.\",\n      \"nearby_places\": [\n        {\n          \"name\": \"Shenzhen Museum\",\n          \"details\": \"Art and history museum showcasing local and international exhibits.\",\n          \"image_url\": \"https://www.szmuseum.com/images/museum_building.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5389, 114.0578\",\n          \"ticket_pricing\": \"Free admission\",\n          \"time_to_travel\": \"30 minutes\"\n        },\n        {\n          \"name\": \"OCT Loft\",\n          \"details\": \"Creative arts and cultural complex featuring galleries, studios, and performance spaces.\",\n          \"image_url\": \"https://www.octloft.com/images/loft_exterior.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5336, 114.0497\",\n          \"ticket_pricing\": \"Free admission\",\n          \"time_to_travel\": \"45 minutes\"\n        }\n      ]\n    },\n    {\n      \"name\": \"The Peninsula Shenzhen\",\n      \"address\": \"888 Shennan Blvd, Futian District, Shenzhen, Guangdong 518031, China\",\n      \"price\": \"USD $350+/night (Approximate, price varies based on season)\",\n      \"image_url\": \"https://www.peninsula.com/en/shenzhen/images/hotel-exterior.jpg\",\n      \"geo_coordinates\": \"22.5405, 114.0645\",\n      \"rating\": \"4.7 stars\",\n      \"description\": \"Elegant hotel with a prime location offering exceptional dining, luxurious amenities, and panoramic city views.\",\n      \"nearby_places\": [\n        {\n          \"name\": \"Shenzhen Civic Center\",\n          \"details\": \"Modern architectural complex with government buildings and public spaces.\",\n          \"image_url\": \"https://www.sz.gov.cn/images/civic_center.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5422, 114.0687\",\n          \"ticket_pricing\": \"Free admission\",\n          \"time_to_travel\": \"15 minutes\"\n        },\n        {\n          \"name\": \"Diwang Mansion\",\n          \"details\": \"Historical building showcasing Chinese architecture and traditional art.\",\n          \"image_url\": \"https://www.diwangmansion.com/images/mansion_exterior.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5437, 114.0723\",\n          \"ticket_pricing\": \"USD $5\",\n          \"time_to_travel\": \"30 minutes\"\n        }\n      ]\n    },\n    {\n      \"name\": \"Four Seasons Hotel Shenzhen\",\n      \"address\": \"9009, No. 888 Shennan Blvd, Futian District, Shenzhen, Guangdong 518031, China\",\n      \"price\": \"USD $300+/night (Approximate, price varies based on season)\",\n      \"image_url\": \"https://www.fourseasons.com/shenzhen/images/hotel-exterior.jpg\",\n      \"geo_coordinates\": \"22.5408, 114.0649\",\n      \"rating\": \"4.8 stars\",\n      \"description\": \"Sophisticated hotel offering luxurious accommodations, fine dining, and a world-class spa.\",\n      \"nearby_places\": [\n        {\n          \"name\": \"Shenzhen SEG Plaza\",\n          \"details\": \"Towering building housing electronics and technology markets.\",\n          \"image_url\": \"https://www.segplaza.com/images/plaza_exterior.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5425, 114.0601\",\n          \"ticket_pricing\": \"Free admission\",\n          \"time_to_travel\": \"20 minutes\"\n        },\n        {\n          \"name\": \"Shenzhen Stock Exchange\",\n          \"details\": \"Important financial hub and trading center.\",\n          \"image_url\": \"https://www.szse.cn/images/exchange_building.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5418, 114.0675\",\n          \"ticket_pricing\": \"Free admission\",\n          \"time_to_travel\": \"10 minutes\"\n        }\n      ]\n    }\n  ],\n  \"day_plan\": [\n    {\n      \"day\": \"Day 1\",\n      \"schedule\": [\n        {\n          \"time\": \"Morning (9:00 AM)\",\n          \"location\": \"Window of the World\",\n          \"details\": \"A theme park showcasing miniature replicas of famous landmarks from around the globe.\",\n          \"image_url\": \"https://www.windowoftheworld.com/images/theme_park.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5318, 113.9962\",\n          \"ticket_pricing\": \"USD $30\",\n          \"time_to_travel\": \"3 hours\"\n        },\n        {\n          \"time\": \"Lunch (12:00 PM)\",\n          \"location\": \"Restaurant at Window of the World\",\n          \"details\": \"Enjoy a diverse selection of cuisines at the park's restaurants.\",\n          \"image_url\": \"https://www.windowoftheworld.com/images/restaurant.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5318, 113.9962\",\n          \"ticket_pricing\": \"Varies\",\n          \"time_to_travel\": \"1 hour\"\n        },\n        {\n          \"time\": \"Afternoon (2:00 PM)\",\n          \"location\": \"Splendid China Folk Village\",\n          \"details\": \"Theme park featuring traditional Chinese architecture and cultural performances.\",\n          \"image_url\": \"https://www.splendidchina.com/images/village.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5331, 113.9938\",\n          \"ticket_pricing\": \"USD $25\",\n          \"time_to_travel\": \"3 hours\"\n        },\n        {\n          \"time\": \"Evening (6:00 PM)\",\n          \"location\": \"Dinner at a Michelin-Starred Restaurant in Shenzhen\",\n          \"details\": \"Indulge in an exquisite dining experience at one of Shenzhen's renowned restaurants.\",\n          \"image_url\": \"https://www.michelinguide.com/images/restaurant.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"Varies\",\n          \"ticket_pricing\": \"Varies\",\n          \"time_to_travel\": \"1 hour\"\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 2\",\n      \"schedule\": [\n        {\n          \"time\": \"Morning (9:00 AM)\",\n          \"location\": \"Shenzhen Bay Park\",\n          \"details\": \"Coastal park with stunning views of the bay and the city skyline.\",\n          \"image_url\": \"https://www.shenzhenbaypark.com/images/park.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5284, 113.9237\",\n          \"ticket_pricing\": \"Free admission\",\n          \"time_to_travel\": \"2 hours\"\n        },\n        {\n          \"time\": \"Lunch (12:00 PM)\",\n          \"location\": \"Restaurant in Shenzhen Bay Park\",\n          \"details\": \"Enjoy a casual meal at one of the restaurants overlooking the bay.\",\n          \"image_url\": \"https://www.shenzhenbaypark.com/images/restaurant.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5284, 113.9237\",\n          \"ticket_pricing\": \"Varies\",\n          \"time_to_travel\": \"1 hour\"\n        },\n        {\n          \"time\": \"Afternoon (2:00 PM)\",\n          \"location\": \"Dameisha Beach\",\n          \"details\": \"Beautiful beach with soft sand and clear water, perfect for swimming, sunbathing, and relaxation.\",\n          \"image_url\": \"https://www.dameisha.com/images/beach.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5759, 114.2041\",\n          \"ticket_pricing\": \"Free admission\",\n          \"time_to_travel\": \"3 hours\"\n        },\n        {\n          \"time\": \"Evening (6:00 PM)\",\n          \"location\": \"Dinner at a Rooftop Restaurant with City Views\",\n          \"details\": \"Experience a memorable dinner with panoramic views of the Shenzhen skyline.\",\n          \"image_url\": \"https://www.shenzhenrestaurants.com/images/rooftop_restaurant.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"Varies\",\n          \"ticket_pricing\": \"Varies\",\n          \"time_to_travel\": \"1 hour\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Notes:**\n\n* This is a suggested itinerary, and you can customize it based on your family's interests.\n* The prices listed are approximate and can vary depending on the season and availability.\n* The provided image URLs are placeholders and should be replaced with actual image URLs.\n* Ensure you have valid travel documents and visas before traveling to China.\n* Check the latest travel advisories and restrictions before your trip. \n\nThis JSON format provides a structured outline for your Shenzhen travel plan, making it easy to modify and adapt to your family's preferences. Enjoy your luxurious journey! \n"},
        ],
      },
    ],
})
// async function run() {
//   const chatSession = model.startChat({
//     generationConfig,
//  // safetySettings: Adjust safety settings
//  // See https://ai.google.dev/gemini-api/docs/safety-settings
    // history: [
    //   {
    //     role: "user",
    //     parts: [
    //       {text: "Generate Travel Plan for Location: Shenzhen China, for 2 Day and 1 Night for Family with a Luxury budget with a Flight details, Flight Price with Booking url, Hotels options list with Hotel Name, Hotel address, price, hotel image url, geo coordinates, rating, descriptions and places to visit nearby with place name, place details, place image url, geo coordinates, ticket pricing, time to travel each of the location for 1 days and 1 night with each day plan with best time to visit in Json format"},
    //     ],
    //   },
    //   {
    //     role: "model",
    //     parts: [
    //       {text: "```json\n{\n  \"flight\": {\n    \"details\": \"Roundtrip flight from [Your Departure City] to Shenzhen Bao'an International Airport (SZX)\",\n    \"price\": \"USD $1000 (Approximate, price varies based on season and airline)\",\n    \"booking_url\": \"https://www.google.com/flights\" // You can replace with specific airlines or travel booking websites\n  },\n  \"hotel\": [\n    {\n      \"name\": \"The Ritz-Carlton, Shenzhen\",\n      \"address\": \"1001 Shennan Blvd, Futian District, Shenzhen, Guangdong 518031, China\",\n      \"price\": \"USD $400+/night (Approximate, price varies based on season)\",\n      \"image_url\": \"https://www.ritzcarlton.com/en/hotels/china/shenzhen/images/hotel-exterior.jpg\",\n      \"geo_coordinates\": \"22.5419, 114.0654\",\n      \"rating\": \"4.5 stars\",\n      \"description\": \"Luxury hotel in the heart of Shenzhen with stunning views, world-class dining, and impeccable service.\",\n      \"nearby_places\": [\n        {\n          \"name\": \"Shenzhen Museum\",\n          \"details\": \"Art and history museum showcasing local and international exhibits.\",\n          \"image_url\": \"https://www.szmuseum.com/images/museum_building.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5389, 114.0578\",\n          \"ticket_pricing\": \"Free admission\",\n          \"time_to_travel\": \"30 minutes\"\n        },\n        {\n          \"name\": \"OCT Loft\",\n          \"details\": \"Creative arts and cultural complex featuring galleries, studios, and performance spaces.\",\n          \"image_url\": \"https://www.octloft.com/images/loft_exterior.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5336, 114.0497\",\n          \"ticket_pricing\": \"Free admission\",\n          \"time_to_travel\": \"45 minutes\"\n        }\n      ]\n    },\n    {\n      \"name\": \"The Peninsula Shenzhen\",\n      \"address\": \"888 Shennan Blvd, Futian District, Shenzhen, Guangdong 518031, China\",\n      \"price\": \"USD $350+/night (Approximate, price varies based on season)\",\n      \"image_url\": \"https://www.peninsula.com/en/shenzhen/images/hotel-exterior.jpg\",\n      \"geo_coordinates\": \"22.5405, 114.0645\",\n      \"rating\": \"4.7 stars\",\n      \"description\": \"Elegant hotel with a prime location offering exceptional dining, luxurious amenities, and panoramic city views.\",\n      \"nearby_places\": [\n        {\n          \"name\": \"Shenzhen Civic Center\",\n          \"details\": \"Modern architectural complex with government buildings and public spaces.\",\n          \"image_url\": \"https://www.sz.gov.cn/images/civic_center.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5422, 114.0687\",\n          \"ticket_pricing\": \"Free admission\",\n          \"time_to_travel\": \"15 minutes\"\n        },\n        {\n          \"name\": \"Diwang Mansion\",\n          \"details\": \"Historical building showcasing Chinese architecture and traditional art.\",\n          \"image_url\": \"https://www.diwangmansion.com/images/mansion_exterior.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5437, 114.0723\",\n          \"ticket_pricing\": \"USD $5\",\n          \"time_to_travel\": \"30 minutes\"\n        }\n      ]\n    },\n    {\n      \"name\": \"Four Seasons Hotel Shenzhen\",\n      \"address\": \"9009, No. 888 Shennan Blvd, Futian District, Shenzhen, Guangdong 518031, China\",\n      \"price\": \"USD $300+/night (Approximate, price varies based on season)\",\n      \"image_url\": \"https://www.fourseasons.com/shenzhen/images/hotel-exterior.jpg\",\n      \"geo_coordinates\": \"22.5408, 114.0649\",\n      \"rating\": \"4.8 stars\",\n      \"description\": \"Sophisticated hotel offering luxurious accommodations, fine dining, and a world-class spa.\",\n      \"nearby_places\": [\n        {\n          \"name\": \"Shenzhen SEG Plaza\",\n          \"details\": \"Towering building housing electronics and technology markets.\",\n          \"image_url\": \"https://www.segplaza.com/images/plaza_exterior.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5425, 114.0601\",\n          \"ticket_pricing\": \"Free admission\",\n          \"time_to_travel\": \"20 minutes\"\n        },\n        {\n          \"name\": \"Shenzhen Stock Exchange\",\n          \"details\": \"Important financial hub and trading center.\",\n          \"image_url\": \"https://www.szse.cn/images/exchange_building.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5418, 114.0675\",\n          \"ticket_pricing\": \"Free admission\",\n          \"time_to_travel\": \"10 minutes\"\n        }\n      ]\n    }\n  ],\n  \"day_plan\": [\n    {\n      \"day\": \"Day 1\",\n      \"schedule\": [\n        {\n          \"time\": \"Morning (9:00 AM)\",\n          \"location\": \"Window of the World\",\n          \"details\": \"A theme park showcasing miniature replicas of famous landmarks from around the globe.\",\n          \"image_url\": \"https://www.windowoftheworld.com/images/theme_park.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5318, 113.9962\",\n          \"ticket_pricing\": \"USD $30\",\n          \"time_to_travel\": \"3 hours\"\n        },\n        {\n          \"time\": \"Lunch (12:00 PM)\",\n          \"location\": \"Restaurant at Window of the World\",\n          \"details\": \"Enjoy a diverse selection of cuisines at the park's restaurants.\",\n          \"image_url\": \"https://www.windowoftheworld.com/images/restaurant.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5318, 113.9962\",\n          \"ticket_pricing\": \"Varies\",\n          \"time_to_travel\": \"1 hour\"\n        },\n        {\n          \"time\": \"Afternoon (2:00 PM)\",\n          \"location\": \"Splendid China Folk Village\",\n          \"details\": \"Theme park featuring traditional Chinese architecture and cultural performances.\",\n          \"image_url\": \"https://www.splendidchina.com/images/village.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5331, 113.9938\",\n          \"ticket_pricing\": \"USD $25\",\n          \"time_to_travel\": \"3 hours\"\n        },\n        {\n          \"time\": \"Evening (6:00 PM)\",\n          \"location\": \"Dinner at a Michelin-Starred Restaurant in Shenzhen\",\n          \"details\": \"Indulge in an exquisite dining experience at one of Shenzhen's renowned restaurants.\",\n          \"image_url\": \"https://www.michelinguide.com/images/restaurant.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"Varies\",\n          \"ticket_pricing\": \"Varies\",\n          \"time_to_travel\": \"1 hour\"\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 2\",\n      \"schedule\": [\n        {\n          \"time\": \"Morning (9:00 AM)\",\n          \"location\": \"Shenzhen Bay Park\",\n          \"details\": \"Coastal park with stunning views of the bay and the city skyline.\",\n          \"image_url\": \"https://www.shenzhenbaypark.com/images/park.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5284, 113.9237\",\n          \"ticket_pricing\": \"Free admission\",\n          \"time_to_travel\": \"2 hours\"\n        },\n        {\n          \"time\": \"Lunch (12:00 PM)\",\n          \"location\": \"Restaurant in Shenzhen Bay Park\",\n          \"details\": \"Enjoy a casual meal at one of the restaurants overlooking the bay.\",\n          \"image_url\": \"https://www.shenzhenbaypark.com/images/restaurant.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5284, 113.9237\",\n          \"ticket_pricing\": \"Varies\",\n          \"time_to_travel\": \"1 hour\"\n        },\n        {\n          \"time\": \"Afternoon (2:00 PM)\",\n          \"location\": \"Dameisha Beach\",\n          \"details\": \"Beautiful beach with soft sand and clear water, perfect for swimming, sunbathing, and relaxation.\",\n          \"image_url\": \"https://www.dameisha.com/images/beach.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"22.5759, 114.2041\",\n          \"ticket_pricing\": \"Free admission\",\n          \"time_to_travel\": \"3 hours\"\n        },\n        {\n          \"time\": \"Evening (6:00 PM)\",\n          \"location\": \"Dinner at a Rooftop Restaurant with City Views\",\n          \"details\": \"Experience a memorable dinner with panoramic views of the Shenzhen skyline.\",\n          \"image_url\": \"https://www.shenzhenrestaurants.com/images/rooftop_restaurant.jpg\", // Replace with actual image URL\n          \"geo_coordinates\": \"Varies\",\n          \"ticket_pricing\": \"Varies\",\n          \"time_to_travel\": \"1 hour\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Notes:**\n\n* This is a suggested itinerary, and you can customize it based on your family's interests.\n* The prices listed are approximate and can vary depending on the season and availability.\n* The provided image URLs are placeholders and should be replaced with actual image URLs.\n* Ensure you have valid travel documents and visas before traveling to China.\n* Check the latest travel advisories and restrictions before your trip. \n\nThis JSON format provides a structured outline for your Shenzhen travel plan, making it easy to modify and adapt to your family's preferences. Enjoy your luxurious journey! \n"},
    //     ],
    //   },
    // ],
//   });

//   const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
//   console.log(result.response.text());
// }

// run();